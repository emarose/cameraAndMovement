[gd_scene format=3 uid="uid://8delfhl6qr4o"]

[ext_resource type="Script" uid="uid://ckccqew73gy66" path="res://scenes/maps/BaseMap.gd" id="1_map"]
[ext_resource type="PackedScene" uid="uid://b3mj4b8fx2imj" path="res://scenes/HUD.tscn" id="2_hud"]
[ext_resource type="PackedScene" uid="uid://dqj4vtokmmc76" path="res://assets/terrain/map1.tscn" id="4_d6dt2"]
[ext_resource type="PackedScene" uid="uid://lw4sjl4cws8q" path="res://scenes/Player.tscn" id="4_player"]
[ext_resource type="PackedScene" uid="uid://cjti4ahfu47rf" path="res://scenes/portal.tscn" id="5_portal"]
[ext_resource type="PackedScene" uid="uid://bteikfcwt50w6" path="res://scenes/Enemy.tscn" id="6_enemy"]
[ext_resource type="Resource" uid="uid://b5sbonaifogvd" path="res://resources/mobs/Fabre.tres" id="7_fabre"]
[ext_resource type="Resource" uid="uid://drfusfqmignrn" path="res://resources/mobs/VenomousSpider.tres" id="8_spider"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_1"]
sky_material = SubResource("ProceduralSkyMaterial_1")

[sub_resource type="Environment" id="Environment_1"]
background_mode = 2
sky = SubResource("Sky_1")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_1"]
vertices = PackedVector3Array(17.999908, 1.8601944, -2, 18.499908, 1.6101944, -2.25, 18.499908, 0.36019444, -49.5, -49.50009, 0.36019444, -49.5, -49.50009, 0.36019444, -1.25, 11.467648, 0.36019444, -1.9274178, 18.499908, 0.86019444, -6.8225822, 17.505089, 1.6101944, -7.9922523, 14.504097, 0.86019444, -24.502836, 17.478455, 1.3601944, -12.47551, 11.48407, 0.36019444, -24.52481, 17.49424, 0.36019444, -37.980633, 17.520866, 0.86019444, -33.497375, 15.988022, 0.61019444, -27.480686, 17.999908, 1.8601944, -1.25, 11.467648, 0.36019444, -1.25, 19.249908, 0.86019444, -2, 19.249908, 0.86019444, -1.25, 49.49991, 0.36019444, -1.25, 20.690384, 0.36019444, -1.9642868, 49.49991, 0.36019444, -49.5, 20.50132, 0.36019444, -6.479866, 14.499908, -0.38980556, 15.75, 15.249908, 0.110194445, 15.25, 17.999908, 1.8601944, -0.5, -49.50009, 0.36019444, 15.75, 12.43539, 0.36019444, 15.75, 16.749908, 1.3601944, 6.659092, 12.9890785, -0.38980556, 11.476532, 11.504066, 0.36019444, 11.515549, 13.022526, -0.13980556, 7.009201, 16.020958, 1.3601944, 2.480877, 13.000935, 0.110194445, 2.5089035, 28.499908, 2.6101944, 34.75, 29.249908, 2.1101944, 34.5, 28.749908, 2.3601944, 33.75, 28.249908, 2.8601944, 38.25, 28.999908, 2.8601944, 38, 29.249908, 2.6101944, 37.25, 28.999908, 2.8601944, 35.75, 28.499908, 2.6101944, 35.5, 15.749908, 0.36019444, 16.5, 22.499908, 1.6101944, 25.75, 23.499908, 2.1101944, 26, 15.749908, 0.36019444, 15.5, 19.968658, 0.61019444, 22.28125, 18.333244, 0.36019444, 19, 23.749908, 2.3601944, 27, 24.749908, 2.6101944, 27.75, 28.999908, 2.1101944, 32.25, 27.249908, 2.3601944, 32.25, 29.749908, 1.3601944, 32.25, 49.49991, 0.36019444, 35.75, 18.999908, 1.1101944, 0, 17.522636, 1.6101944, 7.045456, 16.636269, 0.61019444, 11.272728, 27.666573, 2.1101944, 30.166664, 32.571335, 0.36019444, 32.75, 20.452286, 0.36019444, -0.059524536, 22.008263, 1.8601944, 21.979408, 26.502861, 0.36019444, 19.016838, 18.991829, 1.8601944, 13.02195, 20.512817, 1.6101944, 19.022888, 20.505852, 0.36019444, 6.9819946, 19.02108, 1.6101944, 8.490749, 25.02349, 0.86019444, 23.488167, 17.492065, 0.61019444, 14.491692, 21.982353, 0.86019444, 16.005379, 20.497345, 1.6101944, 15.994392, 20.476837, 1.6101944, 12.982933, 23.513054, 0.86019444, 20.49263, 19.012573, 1.1101944, 17.50315, 28.003708, 0.61019444, 24.985931, 18.977081, 1.6101944, 14.502678, 19.01233, 1.1101944, 15.983406, 27.64991, 2.1101944, 34.65, 28.049911, 2.8601944, 37.050003, 18.249908, 1.6101944, 0, 16.886269, 1.3601944, 6.931816, 16.613548, 0.86019444, 8.31818, 24.499908, 2.3601944, 29, 28.14991, 2.3601944, 31.349998, 26.449905, 2.1101944, 29.550003, 30.749908, 0.86019444, 33.25, 30.999908, 0.86019444, 35.75, 15.249908, 0.110194445, 16.75, 21.999908, 0.86019444, 26.5, 22.999908, 0.61019444, 30, 22.999908, 1.3601944, 28.25, 22.249908, 0.61019444, 27.75, 25.999908, 0.36019444, 38, 25.999908, 1.3601944, 33.25, 25.999908, 0.61019444, 34.4375, 27.999908, 0.36019444, 49.5, 27.999908, 0.61019444, 40, 26.499908, 0.61019444, 39.5, 14.499908, -0.38980556, 16.5, 16.049911, 0.36019444, 18.75, 12.43539, 0.36019444, 16.475807, 16.045364, 0.36019444, 18.954544, -49.50009, 0.36019444, 49.5, 16.016434, 1.1101944, 34.01902, 11.480816, 0.36019444, 32.508675, 17.520866, 0.36019444, 32.502625, 19.01764, 0.36019444, 37.017723, 15.9820175, 1.1101944, 35.507385, 10.007565, 0.36019444, 37.0018, 14.515923, -0.13980556, 18.997917, 14.51857, 0.86019444, 26.515076, 15.985855, 0.86019444, 32.49164, 16.003586, 0.36019444, 26.476067, 14.497009, 0.61019444, 35.4964, 29.249908, 0.61019444, 40, 29.749908, 0.61019444, 39.5, 30.999908, 0.61019444, 37.25, 49.49991, 0.36019444, 49.5)
polygons = [PackedInt32Array(3, 10, 4), PackedInt32Array(4, 10, 5), PackedInt32Array(5, 7, 0), PackedInt32Array(0, 6, 1), PackedInt32Array(6, 12, 2), PackedInt32Array(2, 11, 3), PackedInt32Array(3, 11, 10), PackedInt32Array(10, 9, 5), PackedInt32Array(7, 6, 0), PackedInt32Array(5, 9, 7), PackedInt32Array(12, 11, 2), PackedInt32Array(6, 9, 12), PackedInt32Array(11, 12, 10), PackedInt32Array(10, 8, 9), PackedInt32Array(7, 9, 6), PackedInt32Array(9, 13, 12), PackedInt32Array(12, 13, 10), PackedInt32Array(8, 13, 9), PackedInt32Array(10, 13, 8), PackedInt32Array(0, 14, 5), PackedInt32Array(5, 14, 15), PackedInt32Array(5, 15, 4), PackedInt32Array(16, 19, 17), PackedInt32Array(17, 19, 18), PackedInt32Array(20, 21, 2), PackedInt32Array(2, 21, 6), PackedInt32Array(6, 21, 1), PackedInt32Array(1, 21, 16), PackedInt32Array(16, 21, 19), PackedInt32Array(19, 21, 18), PackedInt32Array(18, 21, 20), PackedInt32Array(4, 29, 25), PackedInt32Array(25, 29, 26), PackedInt32Array(26, 28, 22), PackedInt32Array(22, 28, 23), PackedInt32Array(23, 28, 27), PackedInt32Array(27, 31, 24), PackedInt32Array(24, 15, 14), PackedInt32Array(15, 29, 4), PackedInt32Array(29, 28, 26), PackedInt32Array(28, 30, 27), PackedInt32Array(31, 15, 24), PackedInt32Array(27, 30, 31), PackedInt32Array(15, 30, 29), PackedInt32Array(29, 30, 28), PackedInt32Array(31, 32, 15), PackedInt32Array(30, 32, 31), PackedInt32Array(15, 32, 30), PackedInt32Array(35, 34, 33), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(39, 36, 40), PackedInt32Array(44, 46, 41), PackedInt32Array(41, 46, 45), PackedInt32Array(45, 46, 42), PackedInt32Array(42, 46, 43), PackedInt32Array(48, 47, 43), PackedInt32Array(35, 33, 49), PackedInt32Array(49, 33, 50), PackedInt32Array(58, 63, 53), PackedInt32Array(53, 63, 54), PackedInt32Array(54, 64, 55), PackedInt32Array(55, 66, 44), PackedInt32Array(44, 71, 46), PackedInt32Array(46, 59, 43), PackedInt32Array(43, 72, 56), PackedInt32Array(56, 57, 51), PackedInt32Array(57, 72, 52), PackedInt32Array(52, 60, 18), PackedInt32Array(18, 63, 58), PackedInt32Array(63, 64, 54), PackedInt32Array(64, 61, 55), PackedInt32Array(66, 74, 44), PackedInt32Array(55, 61, 66), PackedInt32Array(71, 62, 46), PackedInt32Array(44, 74, 71), PackedInt32Array(59, 65, 43), PackedInt32Array(46, 62, 59), PackedInt32Array(72, 57, 56), PackedInt32Array(43, 65, 72), PackedInt32Array(72, 60, 52), PackedInt32Array(60, 63, 18), PackedInt32Array(63, 69, 64), PackedInt32Array(64, 69, 61), PackedInt32Array(66, 73, 74), PackedInt32Array(61, 73, 66), PackedInt32Array(71, 68, 62), PackedInt32Array(74, 68, 71), PackedInt32Array(59, 70, 65), PackedInt32Array(62, 70, 59), PackedInt32Array(65, 60, 72), PackedInt32Array(60, 69, 63), PackedInt32Array(69, 73, 61), PackedInt32Array(73, 68, 74), PackedInt32Array(68, 67, 62), PackedInt32Array(70, 60, 65), PackedInt32Array(62, 67, 70), PackedInt32Array(60, 67, 69), PackedInt32Array(69, 68, 73), PackedInt32Array(68, 69, 67), PackedInt32Array(70, 67, 60), PackedInt32Array(36, 76, 40), PackedInt32Array(40, 76, 33), PackedInt32Array(33, 76, 75), PackedInt32Array(33, 75, 50), PackedInt32Array(44, 23, 55), PackedInt32Array(55, 23, 79), PackedInt32Array(55, 79, 78), PackedInt32Array(55, 78, 54), PackedInt32Array(54, 78, 77), PackedInt32Array(54, 77, 53), PackedInt32Array(24, 77, 27), PackedInt32Array(27, 77, 78), PackedInt32Array(27, 78, 79), PackedInt32Array(27, 79, 23), PackedInt32Array(49, 50, 81), PackedInt32Array(81, 50, 82), PackedInt32Array(82, 50, 80), PackedInt32Array(82, 80, 48), PackedInt32Array(53, 17, 58), PackedInt32Array(58, 17, 18), PackedInt32Array(49, 81, 51), PackedInt32Array(51, 81, 56), PackedInt32Array(56, 81, 82), PackedInt32Array(56, 82, 48), PackedInt32Array(56, 48, 43), PackedInt32Array(83, 52, 84), PackedInt32Array(42, 86, 45), PackedInt32Array(45, 86, 41), PackedInt32Array(41, 86, 85), PackedInt32Array(51, 57, 83), PackedInt32Array(83, 57, 52), PackedInt32Array(87, 89, 88), PackedInt32Array(91, 92, 87), PackedInt32Array(87, 92, 90), PackedInt32Array(95, 94, 93), PackedInt32Array(87, 90, 95), PackedInt32Array(96, 85, 97), PackedInt32Array(97, 85, 86), PackedInt32Array(97, 86, 89), PackedInt32Array(96, 98, 22), PackedInt32Array(22, 98, 26), PackedInt32Array(26, 98, 25), PackedInt32Array(96, 97, 99), PackedInt32Array(99, 97, 89), PackedInt32Array(99, 89, 87), PackedInt32Array(25, 106, 100), PackedInt32Array(100, 106, 93), PackedInt32Array(93, 104, 95), PackedInt32Array(95, 104, 87), PackedInt32Array(87, 110, 99), PackedInt32Array(99, 107, 96), PackedInt32Array(96, 107, 98), PackedInt32Array(98, 102, 25), PackedInt32Array(25, 102, 106), PackedInt32Array(106, 104, 93), PackedInt32Array(104, 103, 87), PackedInt32Array(110, 107, 99), PackedInt32Array(87, 103, 110), PackedInt32Array(107, 108, 98), PackedInt32Array(98, 108, 102), PackedInt32Array(102, 111, 106), PackedInt32Array(106, 111, 104), PackedInt32Array(104, 101, 103), PackedInt32Array(110, 108, 107), PackedInt32Array(103, 109, 110), PackedInt32Array(108, 109, 102), PackedInt32Array(102, 109, 111), PackedInt32Array(111, 105, 104), PackedInt32Array(101, 109, 103), PackedInt32Array(104, 105, 101), PackedInt32Array(110, 109, 108), PackedInt32Array(109, 101, 111), PackedInt32Array(111, 101, 105), PackedInt32Array(93, 94, 112), PackedInt32Array(113, 93, 112), PackedInt32Array(113, 114, 93), PackedInt32Array(93, 114, 115), PackedInt32Array(115, 114, 52), PackedInt32Array(114, 84, 52)]

[node name="EasternFields" type="Node3D" unique_id=853498130]
script = ExtResource("1_map")

[node name="HUD" parent="." unique_id=1595299682 instance=ExtResource("2_hud")]

[node name="Player" parent="." unique_id=1478883165 instance=ExtResource("4_player")]
transform = Transform3D(0.07405631, 0, 0.9972541, 0, 1, 0, -0.9972541, 0, 0.07405631, 0, 1, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1267418307]
environment = SubResource("Environment_1")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=2064951797]
transform = Transform3D(-0.8660254, -0.43301278, 0.25000003, 2.7805946e-08, 0.49999994, 0.86602545, -0.50000006, 0.75, -0.43301263, 0, 33.9177, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="." unique_id=166905588]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.021503, -0.008881569, 0.00404644)
navigation_mesh = SubResource("NavigationMesh_1")

[node name="TerrenoPrototipo" parent="NavigationRegion3D" unique_id=2023672240 instance=ExtResource("4_d6dt2")]

[node name="SpawnPoints" type="Node" parent="." unique_id=2056070122]

[node name="InitialSpawn" type="Marker3D" parent="SpawnPoints" unique_id=448284608]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.99, 0)

[node name="FromCity" type="Marker3D" parent="SpawnPoints" unique_id=460035795]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 0.99, 0)

[node name="Portals" type="Node" parent="." unique_id=196107881]

[node name="PortalToCity" parent="Portals" unique_id=1393961996 instance=ExtResource("5_portal")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.648228, 0.016118431, 0)
target_map_path = "uid://cb6k7k3xysq84"
target_spawn_id = "FromEast"

[node name="Enemies" type="Node" parent="." unique_id=2064998176]

[node name="Enemy1" parent="Enemies" unique_id=625210871 instance=ExtResource("6_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0.7213302, -8)
data = ExtResource("7_fabre")

[node name="Enemy2" parent="Enemies" unique_id=1257756002 instance=ExtResource("6_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0.7213302, 8)
data = ExtResource("8_spider")

[node name="Enemy3" parent="Enemies" unique_id=1459969661 instance=ExtResource("6_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.7213302, 0)
data = ExtResource("7_fabre")
